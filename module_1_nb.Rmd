---
title: "Module 1: Dealing with Data"
output: 
  html_notebook: 
    highlight: pygments
    theme: sandstone
editor_options: 
  chunk_output_type: inline
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```


## Objects and Classes

```{r objects, echo=FALSE}
x = 1:3
y = 'a'
z = list(one = x, two = y)

x
y
z
```

```{r inspect}
str(z)
class(y)
```

## Data Structures

Vectors form the basis of R data structures. Two main types are atomic and lists

```{r vector}
my_vector <- c(1, 2, 3)   # standard vector
```

```{r list}
my_list <- list(a = 1, b = 2)   # a named list
my_list
```

## Importing Data

```{r import}
lla = read
```


## Data frames

Data frames are a special kind of list, and probably the most commonly used for data science purposes.

```{r data_frame, eval=TRUE}
my_data = data.frame(
  id = 1:3,
  name = c('Vernon', 'Ace', 'Cora')
)

my_data
class(my_data)
```


## Working with Databases

```{r}
con <- dbConnect(RSQLite::SQLite(), ":memory:")
con

```


## Using SQL directly in an R Notebook

Your R chunk will specify that it is a SQL chunk, not an R chunk, and it will also note the name of the connection.

```{sql, connection=con, output.var = "mydataframe"}
SELECT "month_idx", "year", "month", SUM(CASE WHEN ("term_deposit" = 'yes') THEN (1.0) ELSE (0.0) END) AS "subscribe",
COUNT(*) AS "total"
FROM ("bank") 
GROUP BY "month_idx", "year", "month"
```

## Selecting Columns

## Filtering Rows

## Generating new data

## Grouping and Summarizing Operations

## Merging


### Mutating Joins — inner_join(), left_join(), right_join(), full_join()

### Filtering Joins — semi_join(), anti_join()



## Python examples
